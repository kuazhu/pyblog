(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{202:function(t,s,a){t.exports=a.p+"assets/img/py1.808ecd7c.png"},203:function(t,s,a){t.exports=a.p+"assets/img/py2.d09a290e.png"},204:function(t,s,a){t.exports=a.p+"assets/img/p1.b4fa13d9.png"},205:function(t,s,a){t.exports=a.p+"assets/img/p2.3fc0b53e.png"},206:function(t,s,a){t.exports=a.p+"assets/img/p3.80da58df.png"},207:function(t,s,a){t.exports=a.p+"assets/img/p4.f7931779.png"},208:function(t,s,a){t.exports=a.p+"assets/img/p5.bea06bcf.png"},209:function(t,s,a){t.exports=a.p+"assets/img/w1.547bef23.jpeg"},210:function(t,s,a){t.exports=a.p+"assets/img/w2.1934d4f0.jpeg"},211:function(t,s,a){t.exports=a.p+"assets/img/w3.f0d091b2.png"},212:function(t,s){t.exports="data:image/png;base64,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"},213:function(t,s,a){t.exports=a.p+"assets/img/w5.950c74b3.png"},214:function(t,s,a){t.exports=a.p+"assets/img/cmd.9375d8a0.png"},215:function(t,s,a){t.exports=a.p+"assets/img/new-project.582ede2e.png"},216:function(t,s,a){t.exports=a.p+"assets/img/django-org.bd032d9a.png"},217:function(t,s,a){t.exports=a.p+"assets/img/web.5555aa74.png"},218:function(t,s,a){t.exports=a.p+"assets/img/mvc.404f3c87.png"},222:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"pycms-项目实战"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pycms-项目实战"}},[t._v("#")]),t._v(" PyCMS 项目实战")]),t._v(" "),n("h2",{attrs:{id:"人生苦短-为什么我要用python"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#人生苦短-为什么我要用python"}},[t._v("#")]),t._v(" 人生苦短,为什么我要用python?")]),t._v(" "),n("ul",[n("li",[t._v("首先让我们来看一个2019年最新的编程语言权威排行榜"),n("a",{attrs:{href:"https://octoverse.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("github octoverse"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("既然python如此流行,谁能告诉我why?\n"),n("ul",[n("li",[t._v("易上手")]),t._v(" "),n("li",[t._v("跨平台")]),t._v(" "),n("li",[t._v("高薪水")]),t._v(" "),n("li",[t._v("应用广")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("python除了不能生孩子,啥都能干,如WEB开发,网络爬虫,数据分析,大数据,人工智能,服务器运维,自动化测试...")])])])]),t._v(" "),n("h2",{attrs:{id:"实战目标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实战目标"}},[t._v("#")]),t._v(" 实战目标")]),t._v(" "),n("p",[t._v("使用Python3.7+Django2.2+sqlite实现一个企业门户网站"),n("a",{attrs:{href:"http://www.ponlay.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("先睹为快"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("该网站能满足大多数企业门户网站的需求")])]),t._v(" "),n("h2",{attrs:{id:"学习前提"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#学习前提"}},[t._v("#")]),t._v(" 学习前提")]),t._v(" "),n("ul",[n("li",[t._v("对编程感兴趣")]),t._v(" "),n("li",[t._v("了解python的基础语法")]),t._v(" "),n("li",[t._v("了解html/css/js")])]),t._v(" "),n("h2",{attrs:{id:"环境搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[t._v("#")]),t._v(" 环境搭建")]),t._v(" "),n("h3",{attrs:{id:"编程语言python3-7"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编程语言python3-7"}},[t._v("#")]),t._v(" 编程语言python3.7")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("windows环境")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装包"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("执行下载的安装包,注意在安装时选中Add Python 3.7 to PATH\n"),n("img",{attrs:{src:a(202),alt:""}}),t._v(" "),n("img",{attrs:{src:a(203),alt:""}})])])]),t._v(" "),n("li",[n("p",[t._v("Mac环境")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.python.org/ftp/python/3.7.3/python-3.7.3-macosx10.9.pkg",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载安装文件"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("执行下载的安装包")]),t._v(" "),n("li",[t._v("配置")])]),t._v(" "),n("p",[t._v("在"),n("code",[t._v("~/.bash_profile")]),t._v(" 文件中添加如下配置")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('PATH="/Library/Frameworks/Python.framework/Versions/3.7/bin:${PATH}"\nalias python="/Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7"\n')])])]),n("ul",[n("li",[t._v("激活"),n("code",[t._v("~/.bash_profile")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("source ~/.bash_profile\n")])])])]),t._v(" "),n("li",[n("p",[t._v("查看")]),t._v(" "),n("ul",[n("li",[t._v("安装完成后在终端查看python")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python --version\n")])])]),n("ul",[n("li",[t._v("安装完成后在终端查看pip3")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 -V\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"ide-pycharm专业版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ide-pycharm专业版"}},[t._v("#")]),t._v(" IDE pycharm专业版")]),t._v(" "),n("ul",[n("li",[t._v("windows环境\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://www.jetbrains.com/pycharm/download/download-thanks.html?platform=windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载pycharm Professional 安装包"),n("OutboundLink")],1),t._v(" "),n("img",{attrs:{src:a(204),alt:""}}),t._v(" "),n("img",{attrs:{src:a(205),alt:""}}),t._v(" "),n("img",{attrs:{src:a(206),alt:""}}),t._v(" "),n("img",{attrs:{src:a(207),alt:""}}),t._v(" "),n("img",{attrs:{src:a(208),alt:""}})])])]),t._v(" "),n("li",[t._v("Mac环境\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://www.jetbrains.com/pycharm/download/download-thanks.html?platform=mac",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载pycharm Professional 安装包"),n("OutboundLink")],1)])])])]),t._v(" "),n("h3",{attrs:{id:"虚拟环境-virtualenvwrapper"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟环境-virtualenvwrapper"}},[t._v("#")]),t._v(" 虚拟环境 virtualenvwrapper")]),t._v(" "),n("p",[t._v("虚拟环境的主要作用是给不同的项目创建独立的运行环境,每一个虚拟环境可以有自己版本的依赖包")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Windows 安装")]),t._v(" "),n("ul",[n("li",[t._v("在命令行执行")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install virtualenvwrapper-win -i https://mirrors.aliyun.com/pypi/simple/\n")])])]),n("ul",[n("li",[t._v("新建"),n("code",[t._v("WORKON_HOME")]),t._v("系统变量,值为一个有效的路径,用了存放虚拟环境")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(209),alt:""}}),t._v(" "),n("img",{attrs:{src:a(210),alt:""}}),t._v(" "),n("img",{attrs:{src:a(211),alt:""}}),t._v(" "),n("img",{attrs:{src:a(212),alt:""}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("打开控制面板-系统和安全-系统-高级系统设置-环境变量-系统变量-点击新建")])]),t._v(" "),n("ul",[n("li",[t._v("双击"),n("code",[t._v("python的安装路径\\Scripts\\virtualenvwrapper.bat")]),t._v("文件\n"),n("img",{attrs:{src:a(213),alt:""}})]),t._v(" "),n("li",[t._v("以管理员身份重新打开命令行\n"),n("img",{attrs:{src:a(214),alt:""}})])])]),t._v(" "),n("li",[n("p",[t._v("Mac 安装")]),t._v(" "),n("ul",[n("li",[t._v("在终端执行以下命令")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install virtualenvwrapper -i https://mirrors.aliyun.com/pypi/simple/ \n")])])]),n("ul",[n("li",[t._v("配置")])]),t._v(" "),n("p",[t._v("在"),n("code",[t._v("~/.bash_profile")]),t._v(" 文件中添加如下配置")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('VIRTUALENVWRAPPER_PYTHON="/usr/local/bin/python3.7"\nexport WORKON_HOME=$HOME/.virtualenvs\nsource  /Library/Frameworks/Python.framework/Versions/3.7/bin/virtualenvwrapper.sh\n')])])]),n("ul",[n("li",[t._v("激活"),n("code",[t._v("~/.bash_profile")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("source ~/.bash_profile\n")])])])]),t._v(" "),n("li",[n("p",[t._v("使用")])])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#1.创建虚拟环境\nmkvirtualenv  虚拟环境名字 -p python可执行文件的路径\n#2.查看当前的虚拟环境目录: \nworkon\n#3.切换虚拟环境目录:\nworkon 虚拟环境名字\n#4.退出虚拟环境:\ndeactivate\n#5.删除虚拟环境:\nrmvirtualenv 虚拟环境名字\n")])])]),n("h2",{attrs:{id:"初始化项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目"}},[t._v("#")]),t._v(" 初始化项目")]),t._v(" "),n("h3",{attrs:{id:"创建项目的虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建项目的虚拟环境"}},[t._v("#")]),t._v(" 创建项目的虚拟环境")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("mkvirtualenv pycms -p /usr/local/bin/python3.7\n")])])]),n("h3",{attrs:{id:"在虚拟环境中安装django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在虚拟环境中安装django"}},[t._v("#")]),t._v(" 在虚拟环境中安装django")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install django==2.2 -i https://mirrors.aliyun.com/pypi/simple/\n")])])]),n("h3",{attrs:{id:"查看django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看django"}},[t._v("#")]),t._v(" 查看django")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 list\n")])])]),n("h3",{attrs:{id:"用pycharm新建django项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用pycharm新建django项目"}},[t._v("#")]),t._v(" 用pycharm新建django项目")]),t._v(" "),n("ul",[n("li",[t._v("在新建面板的左侧选择django项目")]),t._v(" "),n("li",[t._v("在Location中指定项目所在的位置")]),t._v(" "),n("li",[t._v("在Existing interpreter 中指定项目的python解释器\n"),n("ul",[n("li",[t._v("在Virtualenv Environment中的Interpreter 中选择创建的虚拟环境python所在的路径")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[t._v("一般Windows用的这个路径为 "),n("code",[t._v("虚拟环境存放目录\\虚拟环境名称\\Scripts\\python.exe")])]),t._v(" "),n("li",[t._v("一般Mac用户的这个路径为 "),n("code",[t._v("用户名/.virtualenvs/虚拟环境名称/bin/python")])])])])]),t._v(" "),n("li",[t._v("选中Enable Django admin")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(215),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("打开 Run->Run 'project' 运行项目来测试django是否安装成功")]),t._v(" "),n("li",[t._v("django 参考文档:\n"),n("a",{attrs:{href:"https://www.djangoproject.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Djano 官网"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/2.2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Djano 中文文档"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"完善项目目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#完善项目目录结构"}},[t._v("#")]),t._v(" 完善项目目录结构")]),t._v(" "),n("ul",[n("li",[t._v("在项目目录下新建media文件夹用来存放上传资源")]),t._v(" "),n("li",[t._v("在项目目录下新建static文件夹用来存放静态资源")]),t._v(" "),n("li",[t._v("在项目目录下新建apps包用来存放应用")])]),t._v(" "),n("h3",{attrs:{id:"pycharm-创建django应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pycharm-创建django应用"}},[t._v("#")]),t._v(" pycharm 创建django应用")]),t._v(" "),n("ul",[n("li",[t._v("打开 Tools->Run manage.py task")]),t._v(" "),n("li",[t._v("在终端执行")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("startapp 应用名称\n")])])]),n("ul",[n("li",[t._v("将应用拖到apps包中")]),t._v(" "),n("li",[t._v("在settings.py中配置应用")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("INSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.admin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.auth'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.contenttypes'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.sessions'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.messages'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'django.contrib.staticfiles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'apps.basic.apps.BasicConfig'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置应用")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"django项目目录结构解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#django项目目录结构解析"}},[t._v("#")]),t._v(" django项目目录结构解析")]),t._v(" "),n("p",[n("img",{attrs:{src:a(216),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"web原理解析和mvc介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web原理解析和mvc介绍"}},[t._v("#")]),t._v(" WEB原理解析和MVC介绍")]),t._v(" "),n("h3",{attrs:{id:"web原理解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web原理解析"}},[t._v("#")]),t._v(" WEB原理解析")]),t._v(" "),n("p",[n("img",{attrs:{src:a(217),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("客户端用户发送请求")]),t._v(" "),n("li",[t._v("服务器解析请求,计算数据并返回给客户端")]),t._v(" "),n("li",[t._v("客户端解析返回的数据")])]),t._v(" "),n("h3",{attrs:{id:"mvc介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mvc介绍"}},[t._v("#")]),t._v(" MVC介绍")]),t._v(" "),n("p",[n("img",{attrs:{src:a(218),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("客户端用户发送请求")]),t._v(" "),n("li",[t._v("模型框架负责路由解析,根据路由寻找对应的控制器(Controller)和行为(action)")]),t._v(" "),n("li",[t._v("行为(action)调用相关的模型(Model)进行数据操作")]),t._v(" "),n("li",[t._v("行为(action)根据数据操作的结果调用视图(View)进行页面的渲染,输出到客户端")])]),t._v(" "),n("h2",{attrs:{id:"静态页面路由配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态页面路由配置"}},[t._v("#")]),t._v(" 静态页面路由配置")]),t._v(" "),n("h3",{attrs:{id:"添加view类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加view类"}},[t._v("#")]),t._v(" 添加View类")]),t._v(" "),n("p",[t._v("在"),n("code",[t._v("apps.basic.views")]),t._v("添加处理路由的View")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generic "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" View\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IndexView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("Django中view分为CBV(class base view)和FBV(function base view),推荐CBV")])]),t._v(" "),n("h3",{attrs:{id:"添加html页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加html页面"}},[t._v("#")]),t._v(" 添加html页面")]),t._v(" "),n("p",[t._v("在templates文件夹新新建一个"),n("code",[t._v("index.html")]),t._v("静态页面")]),t._v(" "),n("h3",{attrs:{id:"配置路由"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置路由"}},[t._v("#")]),t._v(" 配置路由")]),t._v(" "),n("p",[t._v("在urls.py文件中添加")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" IndexView\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#首页路由")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IndexView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h2",{attrs:{id:"静态资源处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态资源处理"}},[t._v("#")]),t._v(" 静态资源处理")]),t._v(" "),n("h3",{attrs:{id:"在html页面中使用静态资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在html页面中使用静态资源"}},[t._v("#")]),t._v(" 在html页面中使用静态资源")]),t._v(" "),n("p",[t._v("copy前端准备好的模版文件(html)到templates文件夹中")]),t._v(" "),n("h3",{attrs:{id:"添加静态资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加静态资源"}},[t._v("#")]),t._v(" 添加静态资源")]),t._v(" "),n("p",[t._v("copy前端准备好的静态资源文(css,js,image)件到static文件中")]),t._v(" "),n("h3",{attrs:{id:"配置静态文件查找路径配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置静态文件查找路径配置"}},[t._v("#")]),t._v(" 配置静态文件查找路径配置")]),t._v(" "),n("p",[t._v("在settings.py中添加如下配置")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("STATICFILES_DIRS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"修改html中静态资源的引用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改html中静态资源的引用"}},[t._v("#")]),t._v(" 修改html中静态资源的引用")]),t._v(" "),n("p",[t._v("举例:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("{% load staticfiles %}\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% static 'layui/css/layui.css' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h2",{attrs:{id:"模版的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模版的使用"}},[t._v("#")]),t._v(" 模版的使用")]),t._v(" "),n("h3",{attrs:{id:"定义模版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义模版"}},[t._v("#")]),t._v(" 定义模版")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--base.html--\x3e")]),t._v("\n{% block 名称 %}\n\n{% endblock %}\n")])])]),n("h3",{attrs:{id:"继承并且填充模版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#继承并且填充模版"}},[t._v("#")]),t._v(" 继承并且填充模版")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("{% extends 'base.html' %}\n{% load staticfiles %}\n{% block 名称 %}\n内容\n{% endblock %}\n")])])]),n("h2",{attrs:{id:"配置其他路由和跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置其他路由和跳转"}},[t._v("#")]),t._v(" 配置其他路由和跳转")]),t._v(" "),n("h3",{attrs:{id:"view类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#view类"}},[t._v("#")]),t._v(" View类")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IndexView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProductView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewsView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AboutView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'about.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewsDetailView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("news_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newsDetail.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"配置路由-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置路由-2"}},[t._v("#")]),t._v(" 配置路由")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" url\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" IndexView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ProductView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NewsView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("AboutView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NewsDetailView\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IndexView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ProductView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"product"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NewsView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"news"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'about/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AboutView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"about"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^detail/(?P<news_id>\\d+)/$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NewsDetailView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"detail"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意detail路由的配置是为了传递参数到view中")])]),t._v(" "),n("h3",{attrs:{id:"配置跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置跳转"}},[t._v("#")]),t._v(" 配置跳转")]),t._v(" "),n("ul",[n("li",[t._v("直接跳转")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item layui-this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'index' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("首页"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'product' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("产品"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'news' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("动态"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'about' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("关于"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("带参数的跳转")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'detail' '123456' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h3",{attrs:{id:"记录导航选中状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#记录导航选中状态"}},[t._v("#")]),t._v(" 记录导航选中状态")]),t._v(" "),n("ul",[n("li",[t._v("在view中传递当前页面标识到模版")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IndexView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProductView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),n("ul",[n("li",[t._v("在模版中根据标识设置class")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item {% ifequal currentPage 'index' %}layui-this{% endifequal %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'index' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("首页"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item {% ifequal currentPage 'product' %}layui-this{% endifequal %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'product' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("产品"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item {% ifequal currentPage 'news' %}layui-this{% endifequal %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'news' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("动态"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-nav-item {% ifequal currentPage 'about' %}layui-this{% endifequal %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'about' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("关于"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h2",{attrs:{id:"模型定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型定义"}},[t._v("#")]),t._v(" 模型定义")]),t._v(" "),n("h3",{attrs:{id:"安装pillow"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装pillow"}},[t._v("#")]),t._v(" 安装Pillow")]),t._v(" "),n("p",[t._v("由于模型中需要定以图片的上传,所以需要安装")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip install Pillow -i https://mirrors.aliyun.com/pypi/simple/ \n")])])]),n("h3",{attrs:{id:"定义共同父类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义共同父类"}},[t._v("#")]),t._v(" 定义共同父类")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" datetime "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datetime\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" models\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义共同类")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseModel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    add_time "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DateTimeField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"添加时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        abstract "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不生成表")]),t._v("\n")])])]),n("h3",{attrs:{id:"定义站点配置模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义站点配置模型"}},[t._v("#")]),t._v(" 定义站点配置模型")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"站点名称"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    logo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"站点logo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config/logo/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"站点连接"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    wx_qr_code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"微信二维码"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config/wx/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"联系电话"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    hours "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"营业时间"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    mail "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"电子邮件"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    icp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备案号"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"站点配置"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])])]),n("h3",{attrs:{id:"数据库表操作和创建管理员"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库表操作和创建管理员"}},[t._v("#")]),t._v(" 数据库表操作和创建管理员")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("打开Tools->Run manage.py task")])]),t._v(" "),n("li",[n("p",[t._v("生成表迁移")])])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("makemigrations\n")])])]),n("ul",[n("li",[t._v("将表迁移同步到数据库")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("migrate\n")])])]),n("ul",[n("li",[t._v("创建超级用户")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("createsuperuser\n")])])]),n("h2",{attrs:{id:"后台管理配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后台管理配置"}},[t._v("#")]),t._v(" 后台管理配置")]),t._v(" "),n("h3",{attrs:{id:"注册模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注册模型"}},[t._v("#")]),t._v(" 注册模型")]),t._v(" "),n("p",[t._v("在应用的"),n("code",[t._v("admin.py")]),t._v("文件中")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#admin.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Config\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigAdmin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ModelAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ConfigAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"配置中文和时区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置中文和时区"}},[t._v("#")]),t._v(" 配置中文和时区")]),t._v(" "),n("p",[t._v("在"),n("code",[t._v("settings.py")]),t._v("中配置中文和时区")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#settings.py")]),t._v("\nLANGUAGE_CODE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zh-hans'")]),t._v("\nTIME_ZONE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asia/Shanghai'")]),t._v("\nUSE_TZ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n")])])]),n("h3",{attrs:{id:"修改网页title和站点header"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改网页title和站点header"}},[t._v("#")]),t._v(" 修改网页title和站点header")]),t._v(" "),n("p",[t._v("在应用的"),n("code",[t._v("admin.py")]),t._v("文件中")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#admin.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#修改网页title和站点header")]),t._v("\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site_title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PyCMS后台管理"')]),t._v("\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site_header "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PyCMS"')]),t._v("\n")])])]),n("h3",{attrs:{id:"修改应用的中文名称"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改应用的中文名称"}},[t._v("#")]),t._v(" 修改应用的中文名称")]),t._v(" "),n("p",[t._v("在应用的"),n("code",[t._v("apps.py")]),t._v("文件中修改应用的中文名称")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#apps.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BasicConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'apps.basic'")]),t._v("\n    verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"站点基本"')]),t._v("\n")])])]),n("h3",{attrs:{id:"配置上传资源路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置上传资源路径"}},[t._v("#")]),t._v(" 配置上传资源路径")]),t._v(" "),n("p",[t._v("在"),n("code",[t._v("settings.py")]),t._v("中配置上传资源路径")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#settings.py")]),t._v("\nMEDIA_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/media/"')]),t._v("\nMEDIA_ROOT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'media'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"自定义表单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义表单"}},[t._v("#")]),t._v(" 自定义表单")]),t._v(" "),n("p",[t._v("在应用的"),n("code",[t._v("admin.py")]),t._v("文件中,在管理器类中添加 "),n("code",[t._v("fields")]),t._v(" 属性来定义表单要显示的字段")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#admin.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Config\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigAdmin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ModelAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fields "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'logo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx_qr_code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hours'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Register your models here.")]),t._v("\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ConfigAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"列表显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列表显示"}},[t._v("#")]),t._v(" 列表显示")]),t._v(" "),n("p",[t._v("在应用的"),n("code",[t._v("admin.py")]),t._v("文件中,在管理器类中添加 "),n("code",[t._v("list_display")]),t._v(" 属性来定义列表要显示的字段")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#admin.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contrib "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" admin\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Config\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigAdmin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ModelAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fields "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'logo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx_qr_code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hours'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    list_display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hours'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Register your models here.")]),t._v("\nadmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ConfigAdmin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"admin登陆添加验证码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#admin登陆添加验证码"}},[t._v("#")]),t._v(" admin登陆添加验证码")]),t._v(" "),n("ul",[n("li",[t._v("安装依赖")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install django-multi-captcha-admin\npip3 install django-simple-captcha\n")])])]),n("ul",[n("li",[t._v("配置")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#settings.py")]),t._v("\nINSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'multi_captcha_admin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#需要在django.contrib.admin前添加")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'captcha'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#验证码模块")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nMULTI_CAPTCHA_ADMIN "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'engine'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'simple-captcha'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("添加路由")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#urls.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^captcha/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'captcha.urls'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("ul",[n("li",[t._v("数据迁移")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("migrate\n")])])]),n("h2",{attrs:{id:"分配数据到模版展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分配数据到模版展示"}},[t._v("#")]),t._v(" 分配数据到模版展示")]),t._v(" "),n("h3",{attrs:{id:"获取和分配数据-objects-get-获取一条"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取和分配数据-objects-get-获取一条"}},[t._v("#")]),t._v(" 获取和分配数据("),n("code",[t._v("objects.get()")]),t._v("获取一条)")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# views.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Config\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IndexView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取一条数据对象")]),t._v("\n        config "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("config "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#将对象分配到模版")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"展示数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#展示数据"}},[t._v("#")]),t._v(" 展示数据")]),t._v(" "),n("ul",[n("li",[t._v("普通数据展示")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--base.html--\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("contact-top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("i")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-icon layui-icon-cellphone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("i")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ config.tel }}({{ config.hours }})"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("上传图片数据展示\n"),n("ul",[n("li",[t._v("模版中使用")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--base.html--\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-col-sm2 layui-col-lg1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ config.wx_qr_code.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("在urls.py中配置上传文件请求路由")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# urls.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("views"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("static "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" serve\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" project"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MEDIA_ROOT\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("    \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上传文件访问的路由配置")]),t._v("\n  url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^media/(?P<path>.*)$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" serve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"document_root"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MEDIA_ROOT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])]),t._v(" "),n("h2",{attrs:{id:"友情连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#友情连接"}},[t._v("#")]),t._v(" 友情连接")]),t._v(" "),n("h3",{attrs:{id:"模型定义-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型定义-2"}},[t._v("#")]),t._v(" 模型定义")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"友情连接名称"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"友情连接地址"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"友情连接"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("模型注册,表迁移,数据同步参考站点配置模型")])]),t._v(" "),n("h3",{attrs:{id:"获取和分配数据-objects-all-获取所有"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取和分配数据-objects-all-获取所有"}},[t._v("#")]),t._v(" 获取和分配数据("),n("code",[t._v("objects.all()")]),t._v("获取所有)")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#views.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IndexView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取一条数据对象")]),t._v("\n        config "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取友情链接")]),t._v("\n        links "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#将对象分配到模版")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'links'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("links\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"展示数据-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#展示数据-2"}},[t._v("#")]),t._v(" 展示数据")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--base.html--\x3e")]),t._v("\n{% for link in links %}\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ link.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("target")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("_blank"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ link.name }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n{% endfor %}\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[n("code",[t._v("Link.objects.all()")]),t._v("返回的是一个"),n("code",[t._v("QuerySet")]),t._v(",需要在模版中通过"),n("code",[t._v("for in")]),t._v("来遍历得到每一对象")])]),t._v(" "),n("h2",{attrs:{id:"首页轮播图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首页轮播图"}},[t._v("#")]),t._v(" 首页轮播图")]),t._v(" "),n("h3",{attrs:{id:"模型定义-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型定义-3"}},[t._v("#")]),t._v(" 模型定义")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Carousel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"轮播图名称"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"轮播图图片"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"carousel/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    desc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"轮播图描述"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"首页轮播图"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("模型注册,表迁移,数据同步,获取和分配数数据,展示数据 参考友情链接模型")])]),t._v(" "),n("h2",{attrs:{id:"产品"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#产品"}},[t._v("#")]),t._v(" 产品")]),t._v(" "),n("h3",{attrs:{id:"模型定义-4"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型定义-4"}},[t._v("#")]),t._v(" 模型定义")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Product")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品名称"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    desc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品描述"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    icon "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品图标"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"product/icon/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品连接"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品封面"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"product/post/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    is_show_index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BooleanField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否显示在首页"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"产品"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])])]),n("h3",{attrs:{id:"数据获取-filter筛选"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据获取-filter筛选"}},[t._v("#")]),t._v(" 数据获取("),n("code",[t._v("filter")]),t._v("筛选)")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#views.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取首页需要的产品")]),t._v("\nproducts "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Product"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("is_show_index"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[t._v("模型注册,表迁移,数据同步,分配数数据,展示数据 参考友情链接模型")]),t._v(" "),n("li",[t._v("数据获取使用"),n("code",[t._v("filter")]),t._v("进行筛选,"),n("code",[t._v("filter")]),t._v("返回结果也是一个QuerySet,在模版中需要用"),n("code",[t._v("for in")])])])]),t._v(" "),n("h2",{attrs:{id:"服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务"}},[t._v("#")]),t._v(" 服务")]),t._v(" "),n("h3",{attrs:{id:"模型定义-5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型定义-5"}},[t._v("#")]),t._v(" 模型定义")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 服务")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"服务名称"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    desc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"服务描述"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"服务封面"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"service/post/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"服务"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("模型注册,表迁移,数据同步,获取和分配数数据,展示数据 参考友情链接模型")])]),t._v(" "),n("h2",{attrs:{id:"产品页面开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#产品页面开发"}},[t._v("#")]),t._v(" 产品页面开发")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("参考首页开发")])]),t._v(" "),n("h2",{attrs:{id:"动态页面开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动态页面开发"}},[t._v("#")]),t._v(" 动态页面开发")]),t._v(" "),n("h3",{attrs:{id:"动态模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动态模型"}},[t._v("#")]),t._v(" 动态模型")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("News")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"动态标题"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    desc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"动态描述"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    intro "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"动态简介"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    content "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"动态内容"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    read_nums "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"阅读人数"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    post "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"封面图片"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"news/post/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"详情图片"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"news/detail/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"动态"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])])]),n("h3",{attrs:{id:"安装分页应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装分页应用"}},[t._v("#")]),t._v(" 安装分页应用")]),t._v(" "),n("ul",[n("li",[t._v("参考 "),n("a",{attrs:{href:"https://github.com/jamespacileo/django-pure-pagination",target:"_blank",rel:"noopener noreferrer"}},[t._v("django-pure-pagination"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("在虚拟环境中安装")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install django-pure-pagination\n")])])]),n("ul",[n("li",[t._v("在settings.py中INSTALLED_APPS配置")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#settings.py")]),t._v("\nINSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pure_pagination'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分页配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("在settings.py中配置分页参数")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#settings.py")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 分页相关配置")]),t._v("\nPAGINATION_SETTINGS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PAGE_RANGE_DISPLAYED'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MARGIN_PAGES_DISPLAYED'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SHOW_FIRST_PAGE_WHEN_INVALID'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"在views-py中使用分页应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在views-py中使用分页应用"}},[t._v("#")]),t._v(" 在views.py中使用分页应用")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pure_pagination "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Paginator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EmptyPage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PageNotAnInteger\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewsView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取一条数据对象")]),t._v("\n        config "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取友情链接")]),t._v("\n        links "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按添加时间倒序获取所有的动态")]),t._v("\n        all_news "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" News"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-add_time"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            page "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GET"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" PageNotAnInteger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            page "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n        p "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Paginator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("all_news"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" per_page"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        news "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'links'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" links"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("news\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("objects.order_by()")]),t._v("是排序")]),t._v(" "),n("li",[t._v("以上代码生成的"),n("code",[t._v("news")]),t._v("是一个分页对象")])])]),t._v(" "),n("h3",{attrs:{id:"在模版中使用分页"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在模版中使用分页"}},[t._v("#")]),t._v(" 在模版中使用分页")]),t._v(" "),n("ul",[n("li",[t._v("动态遍历")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("    {% for item in news.object_list %}\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-col-lg6 content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("news-img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'detail' item.id %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ item.post.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("news-panel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("strong")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'detail' item.id %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item.name }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("strong")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item.desc }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% url 'detail' item.id %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("[详细]"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("read-push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("阅读 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item.read_nums }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token entity",title:"&nbsp;"}},[t._v("&nbsp;")]),n("span",{pre:!0,attrs:{class:"token entity",title:"&nbsp;"}},[t._v("&nbsp;")]),n("span",{pre:!0,attrs:{class:"token entity",title:"&nbsp;"}},[t._v("&nbsp;")]),n("span",{pre:!0,attrs:{class:"token entity",title:"&nbsp;"}},[t._v("&nbsp;")]),t._v("发布时间："),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item.add_time }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    {% endfor %}\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("分页对象需要遍历对象上的"),n("code",[t._v("object_list")])])]),t._v(" "),n("ul",[n("li",[t._v("分页器渲染")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("page-list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-box layui-laypage layui-laypage-molv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-laypage-1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        {% if news.has_previous %}\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("?{{ news.previous_page_number.querystring }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-laypage-next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("上一页"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        {% endif %}\n        {% for page in news.pages %}\n            {% if page %}\n                {% ifequal page news.number %}\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-laypage-curr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("em")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-laypage-em"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("#2db5a3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("em")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("em")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ page }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("em")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                {% else %}\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("?{{ page.querystring }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ page }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                {% endifequal %}\n            {% else %}\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:;"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            {% endif %}\n        {% endfor %}\n        {% if news.has_next %}\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("?{{ news.next_page_number.querystring }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-laypage-next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("下一页"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        {% endif %}\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h2",{attrs:{id:"动态详情页面开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动态详情页面开发"}},[t._v("#")]),t._v(" 动态详情页面开发")]),t._v(" "),n("h3",{attrs:{id:"获取动态并分配给模版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取动态并分配给模版"}},[t._v("#")]),t._v(" 获取动态并分配给模版")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewsDetailView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("View"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("news_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取一条数据对象")]),t._v("\n        config "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取友情链接")]),t._v("\n        links "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取动态")]),t._v("\n        news "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" News"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("news_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改动态的阅读人数")]),t._v("\n        news"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read_nums "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        news"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" render"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newsDetail.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'currentPage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'links'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" links"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'news'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("news\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("objects.get(id=int(news_id))")]),t._v("是根据id获取数据")]),t._v(" "),n("li",[t._v("模版数据展示参考之前模型")])])]),t._v(" "),n("h2",{attrs:{id:"关于我们页面开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于我们页面开发"}},[t._v("#")]),t._v(" 关于我们页面开发")]),t._v(" "),n("h3",{attrs:{id:"定义模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义模型"}},[t._v("#")]),t._v(" 定义模型")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 公司简介")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Intro")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    content "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"简介内容"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"简介图片"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"intro/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公司简介"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发展历程")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Timeline")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"历程标签"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    desc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"历程描述"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("verbose_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"历程图片"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"timeline/%Y/%m"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        verbose_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"发展历程"')]),t._v("\n        verbose_name_plural "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" verbose_name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("模型注册,表迁移,数据同步,获取和分配数数据, 参考友情链接模型")])]),t._v(" "),n("h3",{attrs:{id:"数据展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据展示"}},[t._v("#")]),t._v(" 数据展示")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("{% for intro in intros %}\n  {% if forloop.counter|divisibleby:2 %}\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-inline panel p_block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ intro.content }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-inline img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ intro.image.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("p_hidden"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ intro.content }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {% else %}\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-inline img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ intro.image.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layui-inline panel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ intro.content }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {% endif %}\n{% endfor %}\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("timeline"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n{% for timeline in timelines %}\n  {% if forloop.counter|divisibleby:2 %}\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cour-img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ timeline.image.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cour-panel layui-col-sm4 layui-col-sm-offset8 layui-col-lg5 layui-col-lg-offset7"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ timeline.label }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ timeline.desc }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {% else %}\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("odd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cour-img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ timeline.image.url }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cour-panel layui-col-sm4 layui-col-lg5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ timeline.label }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ timeline.desc }}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  {% endif %}\n{% endfor %}\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("odd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cour-img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{% static '/img/us_img8.png' %}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("ul",[n("li",[t._v("在模版中遍历时可以用"),n("code",[t._v("{% if forloop.counter|divisibleby:2 %}")]),t._v("来判断当前是否是偶数")])])]),t._v(" "),n("h2",{attrs:{id:"配置错误页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置错误页面"}},[t._v("#")]),t._v(" 配置错误页面")]),t._v(" "),n("h3",{attrs:{id:"准备相关的错误页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#准备相关的错误页面"}},[t._v("#")]),t._v(" 准备相关的错误页面")]),t._v(" "),n("ul",[n("li",[t._v("404.html")])]),t._v(" "),n("h3",{attrs:{id:"修改settings-py文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改settings-py文件"}},[t._v("#")]),t._v(" 修改settings.py文件")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开发环境配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DEBUG = True")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ALLOWED_HOSTS = []")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 线上环境配置")]),t._v("\nDEBUG "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\nALLOWED_HOSTS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开发环境配置,静态文件查找路径配置")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# STATICFILES_DIRS = [")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     os.path.join(BASE_DIR, 'static'),")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 线上环境配置")]),t._v("\nSTATIC_ROOT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"修改urls-py文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改urls-py文件"}},[t._v("#")]),t._v(" 修改urls.py文件")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" project"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" STATIC_ROOT\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 静态资源访问的路由配置(线上配置only)")]),t._v("\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'^static/(?P<path>.*)$'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" serve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"document_root"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" STATIC_ROOT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"收集静态文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#收集静态文件"}},[t._v("#")]),t._v(" 收集静态文件")]),t._v(" "),n("p",[t._v("打开Tools->Run manage.py task,执行以下指令")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("collectstatic\n")])])]),n("h3",{attrs:{id:"收集项目所需依赖文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#收集项目所需依赖文件"}},[t._v("#")]),t._v(" 收集项目所需依赖文件")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 freeze > requirements.txt\n")])])]),n("h2",{attrs:{id:"部署上线"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署上线"}},[t._v("#")]),t._v(" 部署上线")]),t._v(" "),n("h3",{attrs:{id:"购买云服务器-以阿里云为例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#购买云服务器-以阿里云为例"}},[t._v("#")]),t._v(" 购买云服务器(以阿里云为例)")]),t._v(" "),n("ul",[n("li",[t._v("购买时操作系统选择CentOS 7.7 64位")]),t._v(" "),n("li",[t._v("记录远程连接密码,在远程连接时用")]),t._v(" "),n("li",[t._v("重置实例密码,该密码是登陆系统时使用")])]),t._v(" "),n("h3",{attrs:{id:"开放云服务器的端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开放云服务器的端口"}},[t._v("#")]),t._v(" 开放云服务器的端口")]),t._v(" "),n("p",[t._v("在云服务器对应的实例中安全组规则中添加")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("允许\t自定义 TCP\t80/80\t    IPv4地址段访问\t0.0.0.0/0 \n允许\t自定义 TCP\t8000/8000\tIPv4地址段访问\t0.0.0.0/0 \n")])])]),n("h3",{attrs:{id:"登陆服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登陆服务器"}},[t._v("#")]),t._v(" 登陆服务器")]),t._v(" "),n("ul",[n("li",[t._v("方法一:远程连接后登陆系统,用户名:root 密码:重置的实例密码")]),t._v(" "),n("li",[t._v("方法二(推荐):在本机终端通过 ssh root@服务器公共ip 登陆,登陆需要输入实例密码,注意windows用户需要安装xshell")])]),t._v(" "),n("h3",{attrs:{id:"用pycharm上传代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用pycharm上传代码"}},[t._v("#")]),t._v(" 用pycharm上传代码")]),t._v(" "),n("ul",[n("li",[t._v("Tools->Deployment->Configuration...")]),t._v(" "),n("li",[t._v("Add->SFTP")]),t._v(" "),n("li",[t._v("配置Connection连接远程服务器")]),t._v(" "),n("li",[t._v("配置Mappings,本地项目的文件和远程服务的目录对应,注意远程服务器的目录需要自己建立")]),t._v(" "),n("li",[t._v("右击需要上传的项目目录->deployment->upload,注意如果只上传某一个文件或目录则只右击需要上传的文件或者目录")])]),t._v(" "),n("h3",{attrs:{id:"环境安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境安装"}},[t._v("#")]),t._v(" 环境安装")]),t._v(" "),n("h4",{attrs:{id:"安装python3-7"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装python3-7"}},[t._v("#")]),t._v(" 安装python3.7")]),t._v(" "),n("ul",[n("li",[t._v("1.安装依赖")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("yum install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel gcc gcc-c++ openssl-devel libffi-devel python-devel mariadb-devel\n")])])]),n("ul",[n("li",[t._v("2.下载源码")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz \ntar -xzvf Python-3.7.3.tgz -C /tmp \ncd /tmp/Python-3.7.3/ \n")])])]),n("ul",[n("li",[t._v("3.把Python3.7安装到 /usr/local 目录")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("./configure --prefix=/usr/local\nmake\nmake install   #这一步比较耗时\n")])])]),n("ul",[n("li",[t._v("4.更改/usr/bin/python链接")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("ln -s /usr/local/bin/python3.7 /usr/bin/python3\nln -s /usr/local/bin/pip3.7 /usr/bin/pip3\n")])])]),n("h4",{attrs:{id:"安装新版sqlite"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装新版sqlite"}},[t._v("#")]),t._v(" 安装新版sqlite")]),t._v(" "),n("ul",[n("li",[t._v("1.下载源码")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("wget https://www.sqlite.org/2019/sqlite-autoconf-3270200.tar.gz\ntar -zxvf sqlite-autoconf-3270200.tar.gz -C /tmp \ncd /tmp/sqlite-autoconf-3270200/ \n")])])]),n("ul",[n("li",[t._v("2.把sqlite安装到 /usr/local 目录")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("./configure --prefix=/usr/local\nmake\nmake install   #这一步比较耗时\n")])])]),n("ul",[n("li",[t._v("3.建立软链接")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#如果文件已经存在则备份\nmv /usr/bin/sqlite3 /usr/bin/sqlite3_old\n#建立软链接\nln -s /usr/local/bin/sqlite3   /usr/bin/sqlite3\n")])])]),n("ul",[n("li",[t._v("4.修改 "),n("code",[t._v("~/.bashrc")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('export LD_LIBRARY_PATH="/usr/local/lib"\n')])])]),n("ul",[n("li",[t._v("5.从新加载"),n("code",[t._v("~/.bashrc")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("source  ~/.bashrc\n")])])]),n("h4",{attrs:{id:"安装virtualenvwrapper"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装virtualenvwrapper"}},[t._v("#")]),t._v(" 安装virtualenvwrapper")]),t._v(" "),n("ul",[n("li",[t._v("1.安装")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3\nyum install python-setuptools python-devel\npip3 install virtualenvwrapper\n")])])]),n("ul",[n("li",[t._v("2.修改"),n("code",[t._v("~/.bashrc")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3\nexport WORKON_HOME=$HOME/.virtualenvs\nsource /usr/local/bin/virtualenvwrapper.sh\n")])])]),n("ul",[n("li",[t._v("3.从新加载"),n("code",[t._v("~/.bashrc")]),t._v("文件")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("source  ~/.bashrc\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("如果出现找不到文件,可以使用以下命令查找文件的位置")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo find / -name 文件名\n")])])])]),t._v(" "),n("ul",[n("li",[t._v("4.新建虚拟环境")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("mkvirtualenv -p python3 pycms\n")])])]),n("ul",[n("li",[t._v("5.进入虚拟环境")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("workon pycms\n")])])]),n("ul",[n("li",[t._v("6.安装pip包")])]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v(",需要把"),n("code",[t._v("requirements.txt")]),t._v("文件上传到服务器之后运行")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install -r requirements.txt\n")])])]),n("ul",[n("li",[t._v("7.拉取所有需要的static file 到同一个目录")])]),t._v(" "),n("p",[t._v("确保"),n("code",[t._v("settings.py")]),t._v("文件中有以下配置")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("STATIC_ROOT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"static/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("然后运行命令")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python3 manage.py collectstatic\n")])])]),n("ul",[n("li",[t._v("8.启动项目")])]),t._v(" "),n("p",[t._v("在项目的根目录下执行")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("python3 manage.py runserver 0.0.0.0:80\n")])])]),n("ul",[n("li",[t._v("9.通过公网ip地址访问项目")])]),t._v(" "),n("h3",{attrs:{id:"域名解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#域名解析"}},[t._v("#")]),t._v(" 域名解析")]),t._v(" "),n("p",[t._v("设置记录类型为"),n("code",[t._v("A")]),t._v(",设置记录值为对应的外网ip")]),t._v(" "),n("h3",{attrs:{id:"uwsgi-nignx部署项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uwsgi-nignx部署项目"}},[t._v("#")]),t._v(" uwsgi+nignx部署项目")]),t._v(" "),n("h4",{attrs:{id:"安装uwsgi"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装uwsgi"}},[t._v("#")]),t._v(" 安装uwsgi")]),t._v(" "),n("p",[t._v("web 容器,拉起项目")]),t._v(" "),n("ul",[n("li",[t._v("1.安装")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pip3 install uwsgi\n")])])]),n("ul",[n("li",[t._v("2.测试")])]),t._v(" "),n("p",[t._v("在项目的根目录运行")]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#项目名称.wsgi\nuwsgi --http :8000 --module project.wsgi\n")])])]),n("ul",[n("li",[t._v("3.配置")])]),t._v(" "),n("p",[t._v("新建 "),n("code",[t._v("项目根目录/config/uwsgi.ini")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("# uwsgi.ini file\n[uwsgi]\n\n# 表示需要操作的目录,也就是项目的目录\nchdir           = /root/pycms\n# Django的wsgi file\n# wsgi文件的路径,名称和项目的应用名称一直\nmodule          = project.wsgi\n\n# process-related settings\n# master\nmaster          = true\n# maximum number of worker processes\n# 进程数\nprocesses       = 10\n# the socket (use the full path to be safe)\nsocket          = 127.0.0.1:8000\n# chmod-socket    = 664\n# clear environment on exit\nvacuum          = true\n# 虚拟环境的目录\nvirtualenv = /root/.virtualenvs/pycms\n# 运行log存放文件\nlogto = /tmp/uwsgi.log\n")])])]),n("ul",[n("li",[t._v("4.启动uwsgi")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("workon pycms\n# -d表示后台运行\nuwsgi -d -i 项目根目录/config/uwsgi.ini\n")])])]),n("ul",[n("li",[t._v("5.查看启动")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("ps aux|grep uwsgi\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意:用配置文件启动的uwsgi不能直接在浏览器中访问")])]),t._v(" "),n("ul",[n("li",[t._v("6.查看端口")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("netstat -lpnt\n")])])]),n("ul",[n("li",[t._v("6.关闭uwsgi")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("killall -9 uwsgi\n")])])]),n("h4",{attrs:{id:"安装nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[t._v("#")]),t._v(" 安装nginx")]),t._v(" "),n("p",[t._v("nginx主要用来反向代理,端口转发")]),t._v(" "),n("ul",[n("li",[t._v("1.安装")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo yum install epel-release\nsudo yum install nginx\n")])])]),n("ul",[n("li",[t._v("2.启动")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo systemctl start nginx\n")])])]),n("ul",[n("li",[t._v("3.新建 "),n("code",[t._v("项目根目录/config/nginx.conf")])])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("# the upstream component nginx needs to connect to\nupstream django {\nserver 127.0.0.1:8000; #转发到的端口,同uwsig配置的端口一直\n}\n# configuration of the server\n\nserver {\n# 监听的端口\nlisten      80;\n# 域名或者ip地址,如果共存用空格隔开\nserver_name 你的ip地址; \ncharset     utf-8;\n\n# 上传文件大小设置\nclient_max_body_size 75M;   \n\nlocation /media  {\n    alias 项目根目录/media;  # 指向django的media目录\n}\n\nlocation /static {\n    alias 项目根目录/static; # 指向django的static目录\n}\n\n# 非静态资源请求转发到django\nlocation / {\n    uwsgi_pass  django;\n    include     uwsgi_params; # the uwsgi_params file you installed\n}\n}\n")])])]),n("ul",[n("li",[t._v("4.将该配置文件加入到nginx的启动配置文件中")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo ln -s pycms_nginx.conf /etc/nginx/conf.d/\n")])])]),n("ul",[n("li",[n("ol",{attrs:{start:"5"}},[n("li",[t._v("修改 /etc/nginx/nginx.conf")])])])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("user root\n")])])]),n("ul",[n("li",[t._v("6.启动nginx")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo systemctl start nginx\n")])])]),n("ul",[n("li",[t._v("7.重启nigx")])]),t._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("sudo systemctl restart nginx\n")])])]),n("h2",{attrs:{id:"附录-pycharm常用调试技巧"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#附录-pycharm常用调试技巧"}},[t._v("#")]),t._v(" 附录:pycharm常用调试技巧")]),t._v(" "),n("ul",[n("li",[t._v("在需要调试的代码对应的行号处单击设置断点")]),t._v(" "),n("li",[t._v("右键以debug模式运行代码,代码会暂停在端点处,常见调试按钮\n"),n("ul",[n("li",[t._v("F8(第二个按钮) 执行下一步")]),t._v(" "),n("li",[t._v("F7(第三个按钮) 进入函数内部")]),t._v(" "),n("li",[t._v("Shift+F8(第六个按钮) 跳出函数")]),t._v(" "),n("li",[t._v("option + F9(最后一个按钮) 直接跳转到下一个断点处")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);